[tox]
envlist = py37, flake8, black

[testenv]
sitepackages = False
passenv = TOXENV CODECOV_TOKEN
deps =
    pytest
    pytest-cov
    coverage
    codecov>=1.4.0
commands = 
    pytest --cov=./ {posargs}
    codecov -e TOXENV -t "$CODECOV_TOKEN"

[testenv:flake8]
skip_install = True
deps =
    flake8
commands =
    flake8

[testenv:black]
skip_install = True
deps =
    black==18.9b0
commands =
    black {posargs:--check setup.py black_nb.py tests}